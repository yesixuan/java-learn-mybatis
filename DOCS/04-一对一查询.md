## 嵌套查询与嵌套结果

嵌套查询会导致 n + 1 的问题。解决方法就是使用嵌套结果来查询


## 示例

```xml
<!--嵌套结果-->
<resultMap id="userWithIdCardMap2" type="cn.vic.init.bean.TUser">
    <id property="id" column="uid" javaType="java.lang.Long"></id>
    <result property="username" column="username" javaType="java.lang.String"></result>
    <result property="age" column="age" javaType="java.lang.Integer"></result>
    <!--association 包裹的就是该用户所对应的的身份证信息-->
    <association property="idCard" javaType="cn.vic.init.bean.IdCard">
        <id property="id" column="cid" javaType="java.lang.Long"></id>
        <!--此处有一个巨坑：property 的值必须跟实体类一模一样（区分大小写）-->
        <result property="cardNo" column="card_no" javaType="java.lang.String"></result>
        <result property="address" column="address" javaType="java.lang.String"></result>
    </association>
</resultMap>

<select id="selectByIdWithIdCard2" resultMap="userWithIdCardMap2" parameterType="java.lang.Long">
    SELECT u.id AS uid, u.username, u.age, c.id AS cid, c.card_no, c.address
    FROM `t_user` u
    JOIN `t_idcard` c
    WHERE u.id = #{id}
</select>
```


## 注意

实体类中的驼峰自动转表中的下划线命名
```xml
<setting name="mapUnderscoreToCamelCase" value="true"/>
```